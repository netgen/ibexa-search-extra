services:
    netgen_search_extra.parent_child_indexing.parent_child_field_mapper:
        class: Netgen\IbexaSearchExtra\Core\Search\Solr\FieldMapper\ContentTranslation\ParentChildFieldMapper
        arguments:
            - '@netgen_search_extra.parent_child_indexing.fulltext_field_resolver'
            - '@Ibexa\Contracts\Core\Persistence\Content\Type\Handler'
            - '@Ibexa\Contracts\Core\Persistence\Content\Handler'
            - '@Ibexa\Contracts\Core\Persistence\Filter\Content\Handler'
            - '@Ibexa\Contracts\Core\Persistence\Content\Location\Handler'
            - '%netgen.ibexa_search_extra.parent_child_indexer%'
        tags:
            - { name: ibexa.search.solr.field.mapper.content.translation }

    netgen_search_extra.parent_child_indexing.ancestor_resolver:
        class: Netgen\IbexaSearchExtra\Core\Search\Common\Messenger\MessageHandler\Search\ParentChildIndexing\AncestorResolver
        arguments:
            - '@Ibexa\Core\Persistence\Legacy\Content\Handler'
            - '@Ibexa\Contracts\Core\Persistence\Content\Type\Handler'
            - '@Ibexa\Core\Persistence\Cache\LocationHandler'
            - '%netgen.ibexa_search_extra.parent_child_indexer%'

    netgen_search_extra.parent_child_indexing.fulltext_field_resolver.native:
        class: Netgen\IbexaSearchExtra\Core\Search\Solr\FieldMapper\ContentTranslation\ParentChildFieldMapper\FullTextFieldResolver\NativeFulltextFieldResolver
        arguments:
            - '@Ibexa\Contracts\Core\Persistence\Content\Type\Handler'
            - '@Ibexa\Core\Search\Common\FieldRegistry'

    netgen_search_extra.parent_child_indexing.fulltext_field_resolver:
        alias: netgen_search_extra.parent_child_indexing.fulltext_field_resolver.native

    netgen_search_extra.parent_child_indexing.ancestor_indexer:
        class: Netgen\IbexaSearchExtra\Core\Search\Common\Messenger\MessageHandler\Search\ParentChildIndexing\AncestorIndexer
        arguments:
            - '@Ibexa\Contracts\Core\Search\VersatileHandler'
            - '@Ibexa\Core\Persistence\Legacy\Content\Handler'
            - '@netgen_search_extra.parent_child_indexing.ancestor_resolver'
